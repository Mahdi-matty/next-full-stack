(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},34136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(92934),t(9389),t(35866);var n=t(23191),a=t(88716),r=t(37922),l=t.n(r),o=t(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92934)),"C:\\Users\\Lenovo\\bootcamp\\css-minip\\next-full-stack\\app\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9389)),"C:\\Users\\Lenovo\\bootcamp\\css-minip\\next-full-stack\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Lenovo\\bootcamp\\css-minip\\next-full-stack\\app\\page.jsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},32295:(e,s,t)=>{Promise.resolve().then(t.bind(t,7214))},29655:(e,s,t)=>{Promise.resolve().then(t.bind(t,56084)),Promise.resolve().then(t.bind(t,89346))},18597:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},7214:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var n=t(10326),a=t(17577),r=t(77109),l=t(46226),o=t(90434);let i=()=>{let{data:e}=(0,r.useSession)(),s=e?.user?.id,[t,i]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/products"),s=await e.json();i(s)}catch(e){console.log(e)}})()},[]);let c=async(e,t)=>{let n={productId:t._id,productName:t.title,price:t.price};e.preventDefault();try{(await fetch(`/api/order/new/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok&&console.log("item added successfully")}catch(e){console.log(e)}};return n.jsx(n.Fragment,{children:t&&t.map(s=>(0,n.jsxs)("div",{className:"flex flex-wrap bg-teal-100 border-solid m-5 p-5",children:[n.jsx(o.default,{href:`/product/${s._id}`,children:n.jsx("h3",{className:"m-2 text-blue-600",children:s.title})}),n.jsx("p",{className:"m-2",children:s.content}),n.jsx("p",{className:"m-2",children:s.price}),n.jsx(l.default,{src:s.image,alt:"image"}),e?.user&&n.jsx("div",{children:n.jsx("button",{className:"bg-yellow-300 w-40 h-10 rounded-3xl m-4",onClick:e=>c(e,s),children:"Add item"})})]},s._id))})}},56084:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var n=t(10326),a=t(90434),r=t(77109),l=t(17577),o=t(35047);t(46226);let i=e=>{let[s,t]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),o=async t=>{t.preventDefault(),e.subHandle({username:s,password:a})};return(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{children:n.jsx("button",{className:"bg-yellow-300 w-40 h-10 rounded-3xl m-4",children:"sign in Google"})}),n.jsx("div",{children:(0,n.jsxs)("form",{className:"focus-within:underline",onSubmit:o,children:[n.jsx("label",{children:"Username"}),n.jsx("input",{value:s,name:"username",className:"ml-2 px-4 py-2 border rounded",onChange:e=>t(e.target.value),type:"text",placeholder:"username"}),n.jsx("label",{children:"Password"}),n.jsx("input",{value:a,name:"password",className:"ml-2 px-4 py-2 border rounded",onChange:e=>r(e.target.value),type:"password",placeholder:"Email"}),n.jsx("input",{type:"submit"})]})})]})},c=e=>{let[s,t]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),[o,i]=(0,l.useState)(""),c=async t=>{t.preventDefault(),e.subHandl({username:s,email:a,password:o})};return(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{children:n.jsx("button",{children:"sign in Google"})}),n.jsx("div",{children:(0,n.jsxs)("form",{className:"text-gray-400 focus-within:text-green-600 focus-within:underline",onSubmit:c,children:[n.jsx("label",{children:"Username"}),n.jsx("input",{value:s,name:"username",onChange:e=>t(e.target.value),type:"text",className:"ml-2 px-4 py-2 border rounded",placeholder:"username"}),n.jsx("label",{children:"email"}),n.jsx("input",{value:a,name:"email",onChange:e=>r(e.target.value),className:"ml-2 px-4 py-2 border rounded",type:"text",placeholder:"email"}),n.jsx("label",{children:"Password"}),n.jsx("input",{value:o,name:"password",onChange:e=>i(e.target.value),className:"ml-2 px-4 py-2 border rounded",type:"password",placeholder:"password"}),n.jsx("input",{type:"submit"})]})})]})},d=()=>{let{data:e}=(0,r.useSession)();console.log(e);let[s,t]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[p,m]=(0,l.useState)(null);(0,o.useRouter)(),(0,l.useEffect)(()=>{(async()=>{m(await (0,r.getProviders)())})()},[]);let x=e=>{e.preventDefault(),u(!d),t(!s)},h=()=>{t(!s),u(!1)},g=async e=>{let s={username:e.username,email:e.email,password:e.password};try{let e=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok){let s=await e.json();console.log(s.message)}else{let s=await e.text();throw Error(s)}}catch(e){console.log(e)}},j=async e=>{console.log("Request Payload:",e);let s=await (0,r.signIn)("credentials",{username:e.username,password:e.password,redirect:!1});console.log("SignIn Result:",s),s.error?console.log("Authentication failed:",s.error):(console.log("Authentication successful:",s),t(!1),u(!1))};return(0,n.jsxs)("nav",{className:"flex-between w-full mb-16 pt-3",children:[n.jsx(a.default,{href:"/",className:"flex gap-2 flex-center"}),n.jsx("div",{className:"flex",children:e?.user?(0,n.jsxs)("div",{className:"flex gap-3 md:gap-5",children:[n.jsx("button",{type:"button",onClick:r.signOut,className:"bg-yellow-300 w-40 h-10 rounded-3xl m-4",children:"Sign Out"}),n.jsx(a.default,{className:"bg-yellow-300 w-40 h-10 rounded-3xl m-4",href:"/cart",children:n.jsx("p",{className:"pl-10",children:"Cart"})})]}):n.jsx(n.Fragment,{children:(0,n.jsxs)("div",{children:[n.jsx("button",{type:"button",onClick:()=>{h()},className:"black_btn",children:"Sign in"}),s&&(0,n.jsxs)("div",{children:[n.jsx(i,{subHandle:j}),n.jsx("div",{children:(0,n.jsxs)("p",{children:["Don't have an account? ",n.jsx("button",{className:"bg-yellow-300 w-40 h-10 rounded-3xl m-4",onClick:e=>x(e),children:"Signup now!"})]})})]}),d&&n.jsx("div",{children:n.jsx(c,{subHandl:g})})]})})})]})}},89346:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var n=t(10326),a=t(77109);let r=({children:e,session:s})=>n.jsx(a.SessionProvider,{session:s,children:e})},9389:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x,metadata:()=>m});var n=t(19510);t(7633);var a=t(68570);let r=(0,a.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\components\nav.jsx`),{__esModule:l,$$typeof:o}=r;r.default;let i=(0,a.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\components\nav.jsx#default`),c=(0,a.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\components\provider.jsx`),{__esModule:d,$$typeof:u}=c;c.default;let p=(0,a.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\components\provider.jsx#default`),m={title:"dokan",description:"online shop"},x=({children:e})=>n.jsx("html",{lang:"en",children:n.jsx("body",{children:n.jsx(p,{children:(0,n.jsxs)("main",{className:"app",children:[n.jsx(i,{}),e]})})})})},92934:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>o});var n=t(68570);let a=(0,n.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\app\page.jsx`),{__esModule:r,$$typeof:l}=a;a.default;let o=(0,n.createProxy)(String.raw`C:\Users\Lenovo\bootcamp\css-minip\next-full-stack\app\page.jsx#default`)},7633:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[948,34],()=>t(34136));module.exports=n})();